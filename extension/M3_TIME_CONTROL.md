# M3 é£æ ¼ 30 ç§’å®½é™æœŸåŠŸèƒ½å®ç°

## åŠŸèƒ½æ¦‚è¿°

å®ç°äº† Material Design 3 (M3) é£æ ¼çš„ 30 ç§’å®½é™æœŸåŠŸèƒ½ï¼Œå½“ç”¨æˆ·åœ¨å¹²æ‰°å¹³å°ä¸Šæœç´¢å·¥ä½œç›¸å…³å†…å®¹æ—¶ï¼Œæ˜¾ç¤ºå€’è®¡æ—¶é€šçŸ¥æ¡ï¼Œ30 ç§’åæ˜¾ç¤ºçº¢è‰²æ‹¦æˆªç•Œé¢ã€‚

## å®ç°ç»†èŠ‚

### 1. Content Script (content.js)

#### M3 é£æ ¼å€’è®¡æ—¶é€šçŸ¥æ¡

**åŠŸèƒ½**ï¼š
- åœ¨é¡µé¢é¡¶éƒ¨æ˜¾ç¤º M3 é£æ ¼çš„é€šçŸ¥æ¡
- å®æ—¶æ˜¾ç¤º 30 ç§’å€’è®¡æ—¶
- ä½¿ç”¨ M3 è®¾è®¡ç³»ç»Ÿçš„é¢œè‰²ã€å­—ä½“å’ŒåŠ¨ç”»

**M3 è®¾è®¡å…ƒç´ **ï¼š
- **èƒŒæ™¯è‰²**ï¼š`#1C1B1F` (M3 Surface Container Highest)
- **æ–‡å­—è‰²**ï¼š`#E6E1E5` (M3 On Surface)
- **å€’è®¡æ—¶èŠ¯ç‰‡**ï¼š`#6750A4` (M3 Primary Container)
- **è­¦å‘Šå›¾æ ‡**ï¼šâš ï¸
- **åŠ¨ç”»**ï¼šä½¿ç”¨ M3 çš„ `cubic-bezier(0.2, 0, 0, 1)` ç¼“åŠ¨å‡½æ•°
- **åœ†è§’**ï¼š16px (M3 chip radius)
- **é˜´å½±**ï¼šM3 elevation shadows

**å€’è®¡æ—¶é€»è¾‘**ï¼š
- æœ€å 5 ç§’æ—¶ï¼Œå€’è®¡æ—¶èŠ¯ç‰‡å˜ä¸ºçº¢è‰² (`#BA1A1A` M3 Error)
- æ—¶é—´åˆ°åï¼Œå€’è®¡æ—¶æ˜¾ç¤º "0ç§’" å¹¶åœæ­¢åŠ¨ç”»

#### M3 é£æ ¼æ‹¦æˆªç•Œé¢

**åŠŸèƒ½**ï¼š
- å…¨å±æ˜¾ç¤ºçº¢è‰² M3 é£æ ¼æ‹¦æˆªç•Œé¢
- æ˜¾ç¤º AI çš„æ‹¦æˆªç†ç”±
- æ˜¾ç¤ºç›¸å…³æ€§å¾—åˆ†ï¼ˆé»˜è®¤ 15%ï¼‰

**M3 è®¾è®¡å…ƒç´ **ï¼š
- **èƒŒæ™¯**ï¼š`#1C1B1F` (M3 Surface)
- **å¡ç‰‡èƒŒæ™¯**ï¼š`#211F26` (M3 Surface Container High)
- **å¡ç‰‡åœ†è§’**ï¼š28px (M3 large shape)
- **é”™è¯¯å›¾æ ‡å®¹å™¨**ï¼š`#F9DEDC` (M3 Error Container)
- **å¾—åˆ†èŠ¯ç‰‡**ï¼š`#BA1A1A` (M3 Error)
- **æŒ‰é’®**ï¼š`#6750A4` (M3 Primary)
- **æŒ‰é’®åœ†è§’**ï¼š20px (M3 button radius)

**æ˜¾ç¤ºå†…å®¹**ï¼š
- é”™è¯¯å›¾æ ‡ï¼ˆğŸš«ï¼‰
- æ ‡é¢˜ï¼š"é¡µé¢å·²è¢«æ‹¦æˆª"
- ç›¸å…³æ€§å¾—åˆ†èŠ¯ç‰‡ï¼ˆæ˜¾ç¤º 15%ï¼‰
- AI æ‹¦æˆªç†ç”±
- "è¿”å›ä¸Šä¸€é¡µ" æŒ‰é’®

### 2. Background Script (background.js)

#### è®¡æ—¶å™¨ç®¡ç†

**åŠŸèƒ½**ï¼š
- æ£€æµ‹ API å“åº”ä¸­çš„ `requires_time_control: true`
- å¯åŠ¨ 30 ç§’è®¡æ—¶å™¨
- 30 ç§’åæ£€æŸ¥ç”¨æˆ·æ˜¯å¦ä»åœ¨åŒä¸€é¡µé¢
- å¦‚æœä»åœ¨ï¼Œå‘é€ `block_page` æ¶ˆæ¯

**æ¶ˆæ¯å‘é€**ï¼š

1. **timer_start æ¶ˆæ¯**ï¼ˆå¯åŠ¨å€’è®¡æ—¶ï¼‰ï¼š
```javascript
chrome.tabs.sendMessage(tabId, {
  action: 'timer_start',
  duration: 30,
  message: 'å½“å‰æ­£åœ¨å¹²æ‰°å¹³å°è¿›è¡Œæœç´¢ï¼Œä½ æœ‰ 30 ç§’æ—¶é—´æŸ¥çœ‹ï¼Œä¹‹åå°†å¼ºåˆ¶æ‹¦æˆª'
});
```

2. **block_page æ¶ˆæ¯**ï¼ˆå¼ºåˆ¶æ‹¦æˆªï¼‰ï¼š
```javascript
chrome.tabs.sendMessage(tabId, {
  action: 'block_page',
  reason: aiResult.reason, // AI çš„æ‹¦æˆªç†ç”±
  score: aiResult.relevance_score_percent || 15 // ç›¸å…³æ€§å¾—åˆ†
});
```

## å·¥ä½œæµç¨‹

### åœºæ™¯ï¼šç”¨æˆ·åœ¨å¹²æ‰°å¹³å°ä¸Šæœç´¢å·¥ä½œå†…å®¹

1. **ç”¨æˆ·è®¿é—®**ï¼š`https://xiaohongshu.com/search?q=vercel`
2. **API å“åº”**ï¼šè¿”å› `requires_time_control: true`
3. **Background Script**ï¼š
   - æ£€æµ‹åˆ°æ—¶é—´æ§åˆ¶éœ€æ±‚
   - å¯åŠ¨ 30 ç§’è®¡æ—¶å™¨
   - å‘é€ `timer_start` æ¶ˆæ¯ç»™ Content Script
4. **Content Script**ï¼š
   - æ˜¾ç¤º M3 é£æ ¼å€’è®¡æ—¶é€šçŸ¥æ¡
   - å¼€å§‹ 30 ç§’å€’è®¡æ—¶
5. **30 ç§’å**ï¼š
   - Background Script æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ä»åœ¨åŒä¸€é¡µé¢
   - å¦‚æœä»åœ¨ï¼Œå‘é€ `block_page` æ¶ˆæ¯ï¼ˆåŒ…å« reason å’Œ scoreï¼‰
   - Content Script æ˜¾ç¤º M3 é£æ ¼æ‹¦æˆªç•Œé¢

## M3 è®¾è®¡ç³»ç»Ÿé¢œè‰²

### ä¸»è¦é¢œè‰²

- **Surface**: `#1C1B1F`
- **Surface Container High**: `#211F26`
- **Surface Container Highest**: `#1C1B1F`
- **On Surface**: `#E6E1E5`
- **On Surface Variant**: `#CAC4D0`

### åŠŸèƒ½é¢œè‰²

- **Primary**: `#6750A4`
- **Primary Container**: `#6750A4`
- **On Primary**: `#FFFFFF`
- **On Primary Container**: `#FFFFFF`

### é”™è¯¯é¢œè‰²

- **Error**: `#BA1A1A`
- **Error Container**: `#F9DEDC`
- **On Error**: `#FFFFFF`

## æ¶ˆæ¯åè®®

### Background â†’ Content Script

#### `timer_start`
å¯åŠ¨å€’è®¡æ—¶é€šçŸ¥æ¡

```javascript
{
  action: 'timer_start',
  duration: 30, // seconds
  message: 'å½“å‰æ­£åœ¨å¹²æ‰°å¹³å°è¿›è¡Œæœç´¢ï¼Œä½ æœ‰ 30 ç§’æ—¶é—´æŸ¥çœ‹ï¼Œä¹‹åå°†å¼ºåˆ¶æ‹¦æˆª'
}
```

#### `block_page`
å¼ºåˆ¶æ‹¦æˆªé¡µé¢

```javascript
{
  action: 'block_page',
  reason: 'æ£€æµ‹åˆ°åœ¨å¹²æ‰°å¹³å°ä¸Šæœç´¢å·¥ä½œç›¸å…³å†…å®¹ï¼Œå»ºè®®è®¾ç½®æ—¶é—´æ§åˆ¶', // AI çš„æ‹¦æˆªç†ç”±
  score: 15 // ç›¸å…³æ€§å¾—åˆ†ï¼ˆé»˜è®¤ 15%ï¼‰
}
```

## ä»£ç ä½ç½®

### Content Script

- **M3 å€’è®¡æ—¶é€šçŸ¥æ¡**ï¼š`content.js` ç¬¬ 163-331 è¡Œ
- **M3 æ‹¦æˆªç•Œé¢**ï¼š`content.js` ç¬¬ 347-506 è¡Œ
- **æ¶ˆæ¯ç›‘å¬**ï¼š`content.js` ç¬¬ 508-584 è¡Œ

### Background Script

- **æ—¶é—´æ§åˆ¶æ£€æµ‹**ï¼š`background.js` ç¬¬ 267-309 è¡Œ
- **è®¡æ—¶å™¨ç®¡ç†**ï¼š`background.js` ç¬¬ 7-8 è¡Œï¼Œç¬¬ 390-408 è¡Œ

## æµ‹è¯•æ–¹æ³•

### æ‰‹åŠ¨æµ‹è¯•

1. **å®‰è£…æ‰©å±•**
2. **è®¿é—®å¹²æ‰°å¹³å°**ï¼šä¾‹å¦‚ `https://xiaohongshu.com/search?q=vercel`
3. **è§‚å¯Ÿå€’è®¡æ—¶**ï¼šåº”è¯¥çœ‹åˆ°é¡¶éƒ¨ M3 é£æ ¼é€šçŸ¥æ¡ï¼Œæ˜¾ç¤º 30 ç§’å€’è®¡æ—¶
4. **ç­‰å¾… 30 ç§’**ï¼šåº”è¯¥çœ‹åˆ° M3 é£æ ¼æ‹¦æˆªç•Œé¢ï¼Œæ˜¾ç¤º AI ç†ç”±å’Œ 15% å¾—åˆ†
5. **æµ‹è¯•å¯¼èˆª**ï¼šåœ¨ 30 ç§’å†…å¯¼èˆªåˆ°å…¶ä»–é¡µé¢ï¼Œè®¡æ—¶å™¨åº”è¯¥è‡ªåŠ¨æ¸…ç†

### ä½¿ç”¨ Chrome DevTools

åœ¨ Content Script çš„ä¸Šä¸‹æ–‡ä¸­æ‰‹åŠ¨è§¦å‘ï¼š

```javascript
// æµ‹è¯•å€’è®¡æ—¶
chrome.runtime.sendMessage({
  action: 'timer_start',
  duration: 5, // æµ‹è¯•ç”¨ 5 ç§’
  message: 'æµ‹è¯•å€’è®¡æ—¶'
});

// æµ‹è¯•æ‹¦æˆªç•Œé¢
chrome.runtime.sendMessage({
  action: 'block_page',
  reason: 'æµ‹è¯•æ‹¦æˆªç†ç”±',
  score: 15
});
```

## M3 è®¾è®¡ç‰¹ç‚¹

1. **åœ†è§’**ï¼šä½¿ç”¨ M3 æ ‡å‡†åœ†è§’å€¼ï¼ˆ16px, 20px, 28pxï¼‰
2. **é˜´å½±**ï¼šä½¿ç”¨ M3 elevation shadows
3. **åŠ¨ç”»**ï¼šä½¿ç”¨ M3 æ ‡å‡†ç¼“åŠ¨å‡½æ•° `cubic-bezier(0.2, 0, 0, 1)`
4. **å­—ä½“**ï¼šRoboto å­—ä½“ï¼Œç¬¦åˆ M3 è§„èŒƒ
5. **é¢œè‰²**ï¼šä½¿ç”¨ M3 é¢œè‰²ç³»ç»Ÿ
6. **é—´è·**ï¼šä½¿ç”¨ M3 æ ‡å‡†é—´è·ï¼ˆ8px, 16px, 24px, 48pxï¼‰

## æ³¨æ„äº‹é¡¹

1. **æ¶ˆæ¯åç§°**ï¼šä½¿ç”¨æ–°çš„æ¶ˆæ¯åç§° `timer_start` å’Œ `block_page`ï¼ˆä¿ç•™æ—§åç§°ä»¥å…¼å®¹ï¼‰
2. **å¾—åˆ†ä¼ é€’**ï¼šæ‹¦æˆªç•Œé¢ä¼šæ˜¾ç¤º API è¿”å›çš„ç›¸å…³æ€§å¾—åˆ†ï¼Œé»˜è®¤ 15%
3. **ç†ç”±æ˜¾ç¤º**ï¼šæ‹¦æˆªç•Œé¢ä¼šæ˜¾ç¤º AI è¿”å›çš„æ‹¦æˆªç†ç”±
4. **è‡ªåŠ¨æ¸…ç†**ï¼šç”¨æˆ·å¯¼èˆªæˆ–å…³é—­æ ‡ç­¾é¡µæ—¶ï¼Œè®¡æ—¶å™¨è‡ªåŠ¨æ¸…ç†

